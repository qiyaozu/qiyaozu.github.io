<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="平时记录"><title>代码标准 | 耀祖的博客</title><link rel="stylesheet" type="text/css" href="//fonts.loli.net/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.3"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.3"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">代码标准</h1><a id="logo" href="/.">耀祖的博客</a><p class="description">学习是一辈子的事~</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">代码标准</h1><div class="post-meta"><a href="/2020/03/03/codeStandard/#comments" class="comment-count"></a><p><span class="date">Mar 03, 2020</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="Code-Standard"><a href="#Code-Standard" class="headerlink" title="Code Standard"></a>Code Standard</h1><p>[TOC]</p>
<h2 id="General"><a href="#General" class="headerlink" title="General"></a>General</h2><h3 id="Module-Name"><a href="#Module-Name" class="headerlink" title="Module Name"></a>Module Name</h3><p>The module named should be named as it meaning, easy to understand and match the requirement documentation.</p>
<p>e.g. Auth – authentication, used for SignIn, SignOut, SignUp etc.</p>
<p>The module name should be confirmed with PM before you make the decision.</p>
<h2 id="Components"><a href="#Components" class="headerlink" title="Components"></a>Components</h2><h3 id="Thinking-in-Vue-way"><a href="#Thinking-in-Vue-way" class="headerlink" title="Thinking in Vue way"></a>Thinking in Vue way</h3><p><a href="https://facebook.github.io/react/docs/thinking-in-react.html" target="_blank" rel="noopener">Thinking in React EN</a><br><a href="http://blog.csdn.net/shilu89757/article/details/42418283" target="_blank" rel="noopener">Thinking in React ZH</a><br><a href="https://zhuanlan.zhihu.com/p/24844296" target="_blank" rel="noopener">Thinking in Vue之一：组件扩展的尝试</a><br><a href="https://zhuanlan.zhihu.com/p/25490369" target="_blank" rel="noopener">Thinking in Vue之二：Vue 与 MV*</a></p>
<h3 id="How-we-organize-components"><a href="#How-we-organize-components" class="headerlink" title="How we organize components"></a>How we organize components</h3><p>A single page app is consist of <code>Page</code>s. A <code>Page</code> is consist of multiple <code>components</code>. The code structure looks as follow:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">- modules/</span><br><span class="line">  - Todo</span><br><span class="line">    - components</span><br><span class="line">      - TodoHeader.vue</span><br><span class="line">      - TodoFooter.vue</span><br><span class="line">      - TodoList.vue</span><br><span class="line">    - pages</span><br><span class="line">      - TodoPage.vue</span><br></pre></td></tr></table></figure>

<h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><p>TODO</p>
<hr>
<h2 id="HTML-代码风格"><a href="#HTML-代码风格" class="headerlink" title="HTML 代码风格"></a>HTML 代码风格</h2><h3 id="基本设置"><a href="#基本设置" class="headerlink" title="基本设置"></a>基本设置</h3><ul>
<li>2 空格缩进</li>
<li>UTF-8 编码</li>
</ul>
<h3 id="统一符号"><a href="#统一符号" class="headerlink" title="统一符号"></a>统一符号</h3><ul>
<li>所有标签和属性名称一律小写。<br><br>理由：如果不这么做可能导致与 Angular 的不兼容。</li>
<li>属性值一律使用双引号。<br><br>理由：统一是必须的，难道会有人想统一成单引号？</li>
</ul>
<h3 id="可省略部分"><a href="#可省略部分" class="headerlink" title="可省略部分"></a>可省略部分</h3><ul>
<li>在没有特殊需求的情况下不省略可选的结束标签。<br><br>理由：这样更容易看出标签的范围，但是要注意下面这种特殊情况。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-tag">li</span> &#123; <span class="attribute">display</span>: inline-block; &#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>1</span><br><span class="line">  <span class="tag">&lt;<span class="name">li</span>&gt;</span>2</span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>不省略可选的自结束标签末尾斜杠。<br><br>理由：它会影响到外部标记语言的解析。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"eleme.png"</span> <span class="attr">alt</span>=<span class="string">"饿了么"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>建议自结束标签包含属性时在结束的斜杆前面加空格。<br><br>理由：这是 XHTML 规范？其实我只是觉得这样比较漂亮。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>/&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>建议无值属性不写等号和值。<br><br>理由：这个真没必要写，不过 DOM 操作时可能会写。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">checked</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"···"</span> <span class="attr">async</span> <span class="attr">defer</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>所有 <code>&lt;a&gt;</code> 必须有 <code>href</code> 属性，如果用不到可以置为 <code>href=&quot;javascript:&quot;</code>。<br><br>理由：<code>href</code> 不是可选属性，只是浏览器能解析而已。</li>
</ul>
<h3 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h3><ul>
<li>不要使用 <code>input</code> （<code>&lt;input type=&quot;button&quot;&gt;</code> 、 <code>&lt;input type=&quot;submit&quot;&gt;</code>）来代替 <code>button</code> <br><br>理由：给这类 <code>input</code> 只设置 <code>height</code> 属性的话，在 <code>safari</code> 和 <code>chrome</code> 下并不会出现意料中的样式。另外，<code>button</code> 可以内嵌 HTML，实现更灵活的结构，如：带图标的按钮。</li>
</ul>
<h3 id="声明相关"><a href="#声明相关" class="headerlink" title="声明相关"></a>声明相关</h3><ul>
<li>使用 <code>&lt;!DOCTYPE html&gt;</code> 作为唯一的 DTD。<br><br>理由：它简洁，并能在所有浏览器触发标准模式。</li>
<li>使用 <code>&lt;meta charset=&quot;UTF-8&quot; /&gt;</code> 指定文件编码。<br><br>理由：只设置 <code>charset</code> 即可，不需要 <code>Content-Type</code>。</li>
<li>所有页面必须有 <code>&lt;title&gt;</code>，并尽可能地在不同页面使用不同的标题。<br><br>理由：传统 SEO 考量，对于单页应用也可以增加用户体验。</li>
</ul>
<h3 id="结构相关"><a href="#结构相关" class="headerlink" title="结构相关"></a>结构相关</h3><ul>
<li>尽可能地简化 HTML 结构。<br><br>理由：太复杂的结构难以维护。</li>
<li>严格遵守标签嵌套规则，禁止让标签出现在不正确的地方。<br><br>理由：规范没有约束，未来版本可能不兼容。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 禁止 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>...<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 允许 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span>&gt;</span>...<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span>...<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="DOM-相关"><a href="#DOM-相关" class="headerlink" title="DOM 相关"></a>DOM 相关</h3><ul>
<li>建议不使用 Level 0 的事件绑定。<br><br>理由：Level 0 的事件绑定是非规范的，而且容易发生冲突。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 不建议 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">onclick</span>=<span class="string">"onBtnClick()"</span>&gt;</span>ELE<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> onBtnClick=<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">  <span class="comment">// ...</span></span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="javascript"><span class="comment">// 不建议</span></span></span><br><span class="line">btn.onclick = onBtnClick;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>但是，<code>addEventListener</code> / <code>attachEvent</code> 需要做兼容处理，推荐使用框架封装。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// jQuery 方案</span></span><br><span class="line">$(<span class="string">"#btn"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Angular 方案 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">ng-click</span>=<span class="string">"onBtnClick()"</span>&gt;</span>ELE<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>不在视图中处理复杂逻辑，事件处理代码过长时做成函数。<br><br>理由：在视图中堆积逻辑会影响代码阅读和维护。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 不推荐 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">ng-click</span>=<span class="string">"'此处省略100字'"</span>&gt;</span>ELE<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 推荐 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"btn"</span> <span class="attr">ng-click</span>=<span class="string">"onBtnClick()"</span>&gt;</span>ELE<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.controller(<span class="string">'foo'</span>, [<span class="string">'$scope'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">$scope</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  $scope.onBtnClick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="string">'此处省略100字'</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;]);</span><br></pre></td></tr></table></figure>

<h3 id="其它建议"><a href="#其它建议" class="headerlink" title="其它建议"></a>其它建议</h3><ul>
<li>给图片添加 <code>alt</code> 属性。</li>
<li>给无文字超连接添加 <code>title</code> 属性。</li>
<li>给可视听的替换型元素内添加描述。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span>&gt;</span>这是一段神奇的音效<span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">canvas</span>&gt;</span>这是一个神奇的效果<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">"http://ele.me"</span>&gt;</span>这是 ele.me 的首页<span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="SASS-代码风格"><a href="#SASS-代码风格" class="headerlink" title="SASS 代码风格"></a>SASS 代码风格</h2><h3 id="基本设置-1"><a href="#基本设置-1" class="headerlink" title="基本设置"></a>基本设置</h3><ul>
<li>2 空格缩进</li>
<li>UTF-8 编码</li>
</ul>
<h3 id="zindex使用规范"><a href="#zindex使用规范" class="headerlink" title="zindex使用规范"></a>zindex使用规范</h3><p><code>zindex.scss</code> 用来统一项目中的 z-index 值，方便管理 z-index 的层级关系，避免 z-index 的值过大或者层级相互覆盖。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$zindexlist:</span><br><span class="line">  searchbox                /* 搜索框 */</span><br><span class="line">  premiumsign              /* 在 rstblock 中显示的品牌馆图标 */</span><br><span class="line">  dropbox                  /* 显示信息的 hover 浮动框 */</span><br><span class="line">  sidebar                  /* 右侧栏 */</span><br><span class="line">  toolbardropbox           /* 右侧栏显示信息的 hover 浮动框 */</span><br><span class="line">  modalshade               /* 浮动弹出框遮罩 */</span><br><span class="line">  modal                    /* 浮动弹出框 */</span><br></pre></td></tr></table></figure>

<p><code>$zindexlist</code> 中的数组元素决定 z-index 值，从上到下 z-index 值越大，层级越高。</p>
<p>#####使用方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@include zindex($ele);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>$ele</code> 参数值，需要在 <code>$zindexlist</code> 中定义数组元素，注意变量的位置；</li>
<li>也可以使用 <code>$zindexlist</code> 中的已经定义的数组元素，但需要注意以后增删改不会有影响；</li>
<li>只支持正数，负数还是按照普通的方式。</li>
</ul>
<hr>
<h2 id="CSS-代码风格"><a href="#CSS-代码风格" class="headerlink" title="CSS 代码风格"></a>CSS 代码风格</h2><h3 id="基本设置-2"><a href="#基本设置-2" class="headerlink" title="基本设置"></a>基本设置</h3><ul>
<li>2 空格缩进</li>
<li>UTF-8 编码</li>
</ul>
<h3 id="空白与格式"><a href="#空白与格式" class="headerlink" title="空白与格式"></a>空白与格式</h3><ul>
<li><p>大括号与选择器之间留空，冒号后面留空，注释内外前后留空。<br><br>理由：据说这样比较漂亮。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 我是注释 */</span></span><br><span class="line"><span class="selector-tag">div</span> &#123; <span class="comment">/* 我是注释 */</span> &#125;</span><br><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red; <span class="comment">/* 我是注释 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在只有一条样式时允许和选择器写到同一行，不强制。<br><br>理由：写三行太占屏幕空间。</p>
</li>
<li><p>一个选择器中有多个样式声明时每条写一行。<br><br>理由：使报错可以精确到具体的规则上，便于排错。</p>
</li>
<li><p>多个选择器使用逗号隔开时写在不同的行，大括号不要另起一行。<br><br>理由：修改时不容易漏掉逗号后面的选择器。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span>,</span><br><span class="line"><span class="selector-tag">span</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: red;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">12px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>每条样式声明后面都加上那个分号。<br><br>理由：复制起来方便。</p>
</li>
<li><p>所有最外层引号使用双引号。<br><br>理由：与 HTML 保持一致。</p>
</li>
<li><p>用逗号分隔的多个样式值写成多行。<br><br>理由：便于阅读与编辑。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.block</span> &#123;</span><br><span class="line">  <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="built_in">rgba</span>(#000, 0.1),</span><br><span class="line">              <span class="number">1px</span> <span class="number">1px</span> <span class="number">0</span> <span class="built_in">rgba</span>(#000, 0.2),</span><br><span class="line">              <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> <span class="built_in">rgba</span>(#000, 0.3),</span><br><span class="line">              <span class="number">3px</span> <span class="number">3px</span> <span class="number">0</span> <span class="built_in">rgba</span>(#000, 0.4),</span><br><span class="line">              <span class="number">4px</span> <span class="number">4px</span> <span class="number">0</span> <span class="built_in">rgba</span>(#000, 0.5);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="功能限定"><a href="#功能限定" class="headerlink" title="功能限定"></a>功能限定</h3><ul>
<li>避免使用 ID 选择器。<br><br>理由：权重太高，不易维护。</li>
<li>禁止使用 @import 引入 CSS 文件。<br>理由：各种坑不解释。<br></li>
</ul>
<h3 id="命名与模块化"><a href="#命名与模块化" class="headerlink" title="命名与模块化"></a>命名与模块化</h3><ul>
<li>0 值的单位建议省略，但不强制。<br><br>理由：大部分 0 值的单位是没用的。</li>
<li>16 进制颜色值中的字母统一小写。<br><br>理由：切换大小写麻烦。</li>
<li>类名中的字母一律小写。<br><br>理由：它不区分大小写，难道有人想统一大写？</li>
<li>类名中只使用字母、数字以及“-”。<br><br>理由：要是没有限制的话我怕一些猴子使用阿拉伯文。<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hello</span> &#123;&#125; <span class="comment">/* OK */</span></span><br><span class="line"><span class="selector-class">.module-title</span> &#123;&#125; <span class="comment">/* OK */</span></span><br><span class="line"><span class="selector-class">.panel-level1</span> &#123;&#125; <span class="comment">/* OK */</span></span><br><span class="line">.导航栏 <span class="comment">/* Fuck */</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<hr>
<h2 id="CSS-模块化命名规则"><a href="#CSS-模块化命名规则" class="headerlink" title="CSS 模块化命名规则"></a>CSS 模块化命名规则</h2><h3 id="基本设置-3"><a href="#基本设置-3" class="headerlink" title="基本设置"></a>基本设置</h3><ul>
<li>2 空格缩进</li>
<li>UTF-8 编码</li>
</ul>
<h3 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h3><p>兼容 IE 8 以上浏览器。</p>
<h3 id="基本命名"><a href="#基本命名" class="headerlink" title="基本命名"></a>基本命名</h3><p><strong>类名使用完整英文单词或抽掉空格的英文词组。</strong></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 推荐 */</span></span><br><span class="line"><span class="selector-class">.module</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.helloworld</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 不推荐 */</span></span><br><span class="line"><span class="selector-class">.konnichiwa</span> &#123;&#125; <span class="comment">/* 非英文单词会导致大家无法正常阅读 */</span></span><br><span class="line"><span class="selector-class">.modl</span> &#123;&#125; <span class="comment">/* 每个人的缩写未必一致，会造成不统一 */</span></span><br><span class="line"><span class="selector-class">.hello-world</span> &#123;&#125; <span class="comment">/* 类名请只使用一个没有分隔[-_]的词 */</span></span><br></pre></td></tr></table></figure>

<p>驼峰写法或下划线分割单词的写法都存在一个问题，我们的主观无法判断单词的分割。比如<code>yellowgreen</code>这个单词，如果使用分单词的写法可能被写成<code>yellowGreen</code>或<code>yello_green</code>，造成风格不统一。</p>
<p>当然，抽掉空格也会带来另外的问题，比如<code>a synchronous request</code>和<code>asynchronous request</code>的意思是完全相反的，这时候抽掉空格就会出问题。不过这种情况是开发者们可以主动避免的，在代码 review 时也可以找出存在歧义的命名。</p>
<p>另外，在能确保准确描述目标元素的情况下，尽可能地让类名更加简短。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.form-submit</span> &#123;&#125; <span class="comment">/* 推荐 */</span></span><br><span class="line"><span class="selector-class">.form-submittingbutton</span> &#123;&#125; <span class="comment">/* 不推荐 */</span></span><br></pre></td></tr></table></figure>

<p>组件名称尽量使用名词或抽掉空格的名词性词组，这样可以降低冲突的可能性。</p>
<p><strong>有且仅当有层级关系时使用“-”连接，比如组件内的元素类名采用组件名“-”子类名的形式：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"uploader"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">class</span>=<span class="string">"uploader-text"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"uploader-button"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这时选择器在 CSS 中应该平行地定义，以便降低优先级，便于覆写。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.uploader</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.uploader-text</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.uploader-button</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>不要求类名的层级结构和 HTML 保持一致。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"grid"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"grid-caption"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"grid-caption-text"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"grid-caption-button"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"grid-row"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"grid-cell"</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>允许模块穿插使用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span> <span class="comment">&lt;!-- 穿插一个别的组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header-logo"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header-nav"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>但不建议在高层级中放置低层级元素，这样会破坏逻辑。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module-caption"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module-caption-content"</span>&gt;</span> <span class="comment">&lt;!-- 推荐:低层嵌入高层 --&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module-text"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> <span class="comment">&lt;!-- 不建议:高层嵌如低层 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 允许:同级嵌套 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module-captioncontent"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module-text"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="保持结构灵活性"><a href="#保持结构灵活性" class="headerlink" title="保持结构灵活性"></a>保持结构灵活性</h3><p>我们的设计应该尽可能地让样式可以用于更多标签。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.section</span> &#123;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.section-head</span> &#123;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.section-body</span> &#123;&#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section-head"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section-body"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dl</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dt</span> <span class="attr">class</span>=<span class="string">"section-head"</span>&gt;</span><span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dd</span> <span class="attr">class</span>=<span class="string">"section-body"</span>&gt;</span><span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>甚至可以任意调整结构。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.article</span> &#123;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.article-main</span> &#123;&#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.article-title</span> &#123;&#125;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-main"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-title"</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-title"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-main"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="样式修饰"><a href="#样式修饰" class="headerlink" title="样式修饰"></a>样式修饰</h3><p>一个组件可能有多种状态多种样式，可以在组件上添加修饰符来选择所需的样式。</p>
<p>在先前的命名规范中“-”被用于表示组件与其后代元素的关系。如果此处再使用“-”，逻辑上可能造成混乱。</p>
<p>考虑到这些修饰符可能和组件名冲突，在词法上推荐使用状态名词或形容词。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"popup success"</span>&gt;</span></span><br><span class="line">  blah blah blah</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"popup warning"</span>&gt;</span></span><br><span class="line">  blah blah blah</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"popup error"</span>&gt;</span></span><br><span class="line">  blah blah blah</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>在选择器中使用多类来声明其样式。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.popup</span><span class="selector-class">.success</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.popup</span><span class="selector-class">.warning</span> &#123;&#125;</span><br><span class="line"><span class="selector-class">.popup</span><span class="selector-class">.error</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<p>这样可以避免嵌套的冲突问题。</p>
<hr>
<h2 id="JavaScript-代码风格"><a href="#JavaScript-代码风格" class="headerlink" title="JavaScript 代码风格"></a>JavaScript 代码风格</h2><h3 id="优先参考"><a href="#优先参考" class="headerlink" title="优先参考"></a>优先参考</h3><p>优先参考<a href="https://github.com/airbnb/javascript" target="_blank" rel="noopener">Airbnb的代码风格</a></p>
<h3 id="基本设置-4"><a href="#基本设置-4" class="headerlink" title="基本设置"></a>基本设置</h3><ul>
<li>2 空格缩进</li>
<li>UTF-8 编码</li>
</ul>
<h3 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h3><p>建议打开严格模式，但不要依赖严格模式中语言特性的变化（仅当需要支持 IE8、IE9 时）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="引号"><a href="#引号" class="headerlink" title="引号"></a>引号</h3><p>使用单引号，这样可以跟 HTML 的双引号更好的一起工作。</p>
<h3 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h3><p>在语句（Statement）的结尾加分号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 不建议</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Long code</span></span><br><span class="line">&#125; <span class="comment">// 没有分号</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 建议</span></span><br><span class="line"><span class="keyword">var</span> fn = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// Long code</span></span><br><span class="line">&#125;; <span class="comment">// 这里有分号</span></span><br></pre></td></tr></table></figure>

<p>以防万一，在可能有坑的地方手工加分号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> f1 = <span class="function"><span class="keyword">function</span> <span class="title">ff1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125; <span class="comment">// 此处漏写分号</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 此处调用了上面的ff1，WAT</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(f2); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f2 = <span class="function"><span class="keyword">function</span> <span class="title">ff2</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125; <span class="comment">// 此处漏写分号</span></span><br><span class="line"><span class="comment">// IIFE</span></span><br><span class="line">;(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="comment">// 注意前面的分号</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="built_in">console</span>.log(f2); <span class="comment">// function</span></span><br></pre></td></tr></table></figure>

<p>或者使用 <code>void function() {}()</code> 的写法，见下</p>
<h3 id="空白与格式-1"><a href="#空白与格式-1" class="headerlink" title="空白与格式"></a>空白与格式</h3><p>在二元和三元运算符的符号与操作数之间添加空格，在非行末的 <code>,</code> <code>;</code> <code>}</code> 后添加空格，在 <code>{</code> 前添加空格。并在每个逻辑块中间添加空白行。<br>特别的，在 if、while 等关键字后加空格，与函数调用做区分</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> foo=<span class="string">'bar'</span>,hello=foo+<span class="number">2</span>,test=<span class="literal">true</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(foo&amp;&amp;hello)&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(foo)&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(! test)&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="string">'bar'</span>;</span><br><span class="line"><span class="keyword">var</span> hello = foo + <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> test = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hi</span>(<span class="params">arg1, arg2</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (foo &amp;&amp; hello) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!test) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h3><p>使用 <code>//</code> 作为注释符，可以使用 <code>/* */</code> 作为多行注释符。注释符号与注释内容之间留空，注释的位置尽量放在代码之上：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*不推荐*/</span></span><br><span class="line"><span class="comment">//不推荐</span></span><br><span class="line">; <span class="comment">// 不推荐</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 推荐 */</span></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line">;</span><br></pre></td></tr></table></figure>

<p>建议在今后需要完善的代码中注释以 <code>// TODO</code>。请在 TODO 后标注你要做的事</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'尚未实现'</span>);</span><br><span class="line">  <span class="comment">// <span class="doctag">TODO:</span> condition 成立时需要做额外的工作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="不要为大括号另开一行"><a href="#不要为大括号另开一行" class="headerlink" title="不要为大括号另开一行"></a>不要为大括号另开一行</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">if</span> (foo)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不允许</span></span><br><span class="line"><span class="keyword">return</span></span><br><span class="line">&#123;</span><br><span class="line">  a: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 一定要</span></span><br><span class="line"><span class="keyword">return</span> &#123;</span><br><span class="line">  a: <span class="number">1</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>只有一行语句时允许不带括号，但需把语句紧跟当前行后</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (foo) doSomething();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) doSomething();</span><br></pre></td></tr></table></figure>

<p>语句太长时写成两行，这时请加大括号</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">  doSomething(aaaa, bbbb);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">  doSomething(aaaa, bbbb);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 因为某些人调试时喜欢注释代码，于是就出现了</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">  <span class="comment">// doSomething(aaaa, bbbb);</span></span><br></pre></td></tr></table></figure>

<p>写 <code>else</code> 时不要另起一行</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  things1();</span><br><span class="line">  things2();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">  things3();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">if</span> (test) &#123;</span><br><span class="line">  things1();</span><br><span class="line">  things2();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  things3();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="var-语句"><a href="#var-语句" class="headerlink" title="var 语句"></a>var 语句</h3><h4 id="使用变量之前必须先定义，不要定义全局变量。"><a href="#使用变量之前必须先定义，不要定义全局变量。" class="headerlink" title="使用变量之前必须先定义，不要定义全局变量。"></a>使用变量之前必须先定义，不要定义全局变量。</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 变量 undefinedVar 从未定义过</span></span><br><span class="line">undefinedVar = <span class="number">1</span>; <span class="comment">// 严格模式中报错</span></span><br><span class="line"><span class="built_in">console</span>.log(global.undefinedVar); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 鉴于 js 中 var 的坑，可以在函数头统一定义所有变量（不强制，我也讨厌把变量定义堆一起。。。）</span></span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; ++i) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="built_in">console</span>.log(i); <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line">      <span class="comment">// 很长的代码，你已经忘记了之前做了什么</span></span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; ++i) &#123;</span><br><span class="line">        <span class="comment">// Do some other things</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 小心 var 与 closure 合用时的坑</span></span><br><span class="line"><span class="keyword">var</span> elements = [ div1, div2, div3 ];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; elements.length; ++i) &#123;</span><br><span class="line">  elements[i].addEventListener(<span class="string">'event'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i); <span class="comment">// 3</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="如果变量有初始赋值则使用单独的-var："><a href="#如果变量有初始赋值则使用单独的-var：" class="headerlink" title="如果变量有初始赋值则使用单独的 var："></a>如果变量有初始赋值则使用单独的 <code>var</code>：</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> hello = <span class="number">1</span>, world = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> hello = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> world = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> foo, fee, fxx;</span><br></pre></td></tr></table></figure>

<p>另外强调，不推荐使用下面这种风格的变量定义方式。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> hello = arr.pop(),</span><br><span class="line">    world = arr.pop();</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> hello = arr.pop()</span><br><span class="line">  , world = arr.pop();</span><br></pre></td></tr></table></figure>

<p>原因：</p>
<ol>
<li>当需要修改变量定义顺序时不容易做整行移动</li>
<li>过不了 eslint 的 indent 验证</li>
</ol>
<h4 id="变量的命名"><a href="#变量的命名" class="headerlink" title="变量的命名"></a>变量的命名</h4><p>使用以小写字母开头的驼峰命名（camelCase）法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> foo_bar = <span class="string">'hello eleme'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> fooBar = <span class="string">'hello eleme'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="常量大写"><a href="#常量大写" class="headerlink" title="常量大写"></a>常量大写</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> prefix = <span class="string">'http://api.ele.me/v1/'</span>;</span><br><span class="line"><span class="keyword">var</span> Prefix = <span class="string">'http://api.ele.me/v1/'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> PREFIX = <span class="string">'http://api.ele.me/v1/'</span>;</span><br></pre></td></tr></table></figure>

<h3 id="使用字面量"><a href="#使用字面量" class="headerlink" title="使用字面量"></a>使用字面量</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不建议</span></span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="keyword">var</span> array = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> array = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 鉴于 Array 构造函数的特殊性，不建议</span></span><br><span class="line"><span class="keyword">var</span> arr1 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>); <span class="comment">// [4, 5, 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以免与下面混淆</span></span><br><span class="line"><span class="keyword">var</span> arr2 = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">4</span>); <span class="comment">// [ undefined * 4 ]</span></span><br><span class="line"><span class="comment">// 等价于（不推荐）</span></span><br><span class="line"><span class="keyword">var</span> arr3 = [];</span><br><span class="line">arr3.length = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// 等价于（不推荐）</span></span><br><span class="line"><span class="keyword">var</span> arr4 = [,,,,];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'0'</span> <span class="keyword">in</span> arr2, <span class="string">'0'</span> <span class="keyword">in</span> arr3, <span class="string">'0'</span> <span class="keyword">in</span> arr4); <span class="comment">// false, false, false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'str'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str === <span class="string">'str'</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bool = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">if</span> (bool) <span class="built_in">console</span>.log(<span class="string">'wat'</span>); <span class="comment">// wat</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 当真需要使用字面量包装类时，使用显式强制转换（请先三思）</span></span><br><span class="line"><span class="keyword">var</span> strObject = <span class="built_in">Object</span>(<span class="string">'str'</span>);</span><br><span class="line">strObject.customProperty = someValue;</span><br></pre></td></tr></table></figure>

<h3 id="比较"><a href="#比较" class="headerlink" title="比较"></a>比较</h3><p>建议使用 <code>===</code>/<code>!==</code> 而非 <code>==</code>/<code>!=</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (a == <span class="number">123</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  a = <span class="built_in">Number</span>(a);</span><br><span class="line">  <span class="keyword">if</span> (a === <span class="number">123</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>==</code> 的规则比较复杂，大家可能记不住。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">''</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// false</span></span><br><span class="line"><span class="keyword">if</span> (a === <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">0</span>);</span><br></pre></td></tr></table></figure>

<p>对于可能不存在的全局引用可以先做如此判断：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> localStorage !== <span class="string">'undefined'</span>) &#123;</span><br><span class="line">  <span class="comment">// 此时访问 localStorage 绝对不会出现引用错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="string">'localStorage'</span> <span class="keyword">in</span> self) &#123;</span><br><span class="line">  <span class="comment">// 此时访问 localStorage 绝对不会出现引用错误</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>但注意它们的区别</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">undefined</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断一个全局变量是否有声明</span></span><br><span class="line"><span class="string">'a'</span> <span class="keyword">in</span> self; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断一个变量是否为 undefined 并将未声明的引用作为 undefined 处理</span></span><br><span class="line"><span class="keyword">typeof</span> a !== <span class="string">'undefined'</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="避免无必要的-if-语句、三元运算符"><a href="#避免无必要的-if-语句、三元运算符" class="headerlink" title="避免无必要的 if 语句、三元运算符"></a>避免无必要的 <code>if</code> 语句、三元运算符</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> flag1 = arr.length &gt; <span class="number">0</span> ? <span class="literal">true</span> : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> flag2;</span><br><span class="line"><span class="keyword">if</span> (arr.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">  flag2 = <span class="literal">true</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  flag2 = <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> flag3 = arr.length &gt; <span class="number">0</span>;</span><br></pre></td></tr></table></figure>

<h3 id="合理的格式化三元运算符"><a href="#合理的格式化三元运算符" class="headerlink" title="合理的格式化三元运算符"></a>合理的格式化三元运算符</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> flag1 = veryLooooooooooonnnnggggggCondition ? resultWhenTruth : resultWhenFalsy;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> flag2 = veryLooooooooooonnnnggggggCondition</span><br><span class="line">              ? resultWhenTruth</span><br><span class="line">              : resultWhenFalsy;</span><br></pre></td></tr></table></figure>

<h3 id="复杂逻辑中建议使用显式转换"><a href="#复杂逻辑中建议使用显式转换" class="headerlink" title="复杂逻辑中建议使用显式转换"></a>复杂逻辑中建议使用显式转换</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+num === <span class="built_in">Number</span>(num);</span><br><span class="line">!!bool === <span class="built_in">Boolean</span>(bool);</span><br><span class="line">str + <span class="string">''</span> === <span class="built_in">String</span>(str);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 特别的</span></span><br><span class="line"><span class="keyword">if</span> (bool)</span><br><span class="line"><span class="comment">// 等价于</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Boolean</span>(bool))</span><br><span class="line"><span class="comment">// 故</span></span><br><span class="line"><span class="keyword">if</span> ([]) <span class="built_in">console</span>.log(<span class="string">'true'</span>); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 而</span></span><br><span class="line"><span class="keyword">if</span> ([] === <span class="literal">true</span>) <span class="built_in">console</span>.log(<span class="string">'true'</span>); <span class="comment">// 无输出</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 另外</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Boolean</span>(<span class="built_in">String</span>(<span class="literal">false</span>))) <span class="built_in">console</span>.log(<span class="string">'true'</span>); <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 这点在保存 localStorage 时需要注意</span></span><br></pre></td></tr></table></figure>

<p>不要使用 parseInt 做整数转换，如需使用 parseInt，请给它传入第二个参数 10，避免老式浏览器的坑（IE8？）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> floatValue = <span class="number">123.456</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 不要</span></span><br><span class="line"><span class="keyword">var</span> intValue = <span class="built_in">parseInt</span>(floatValue);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 可以用</span></span><br><span class="line"><span class="keyword">var</span> intValue2 = floatValue | <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 更显然的</span></span><br><span class="line"><span class="keyword">var</span> intValue3 = <span class="built_in">Math</span>.floor(floatValue);</span><br></pre></td></tr></table></figure>

<p>特别地，使用 parseFloat 做部分转换</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// 例如有：</span></span><br><span class="line"><span class="comment">// &lt;div id="div" style="width: 10px"&gt;&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> divWidth = getComputedStyle(<span class="built_in">document</span>.getElementById(<span class="string">'div'</span>)).width; <span class="comment">// '10px'</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">parseFloat</span>(divWidth)); <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(divWidth)); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(+divWidth); <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<h3 id="函数定义"><a href="#函数定义" class="headerlink" title="函数定义"></a>函数定义</h3><p>建议使用表达式来定义函数，而不是函数语句。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fee</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>因为函数语句是在进入作用域时声明，破坏了程序从上到下的执行顺序。可能出现定义在 <code>return</code> 后的情况。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 此处可以正常使用函数，但逻辑不清晰</span></span><br><span class="line">  foo();</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>

<p>只引用一次的函数建议匿名定义，因为名称存在主观因素。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br><span class="line">element.onclick = foo;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line">element.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="自执行函数"><a href="#自执行函数" class="headerlink" title="自执行函数"></a>自执行函数</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">+<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line">~<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>

<p>括号和加号不是上下文无关的，可能受到上文缺分号的影响而出现奇怪的问题，这些问题甚至不会报错，极难调试，所以不推荐此种用法，比如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> <span class="comment">// 此处无分号</span></span><br><span class="line"></span><br><span class="line">+<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">&#125;();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 此处 a 的值为 3</span></span><br></pre></td></tr></table></figure>

<h3 id="避免嵌套过深"><a href="#避免嵌套过深" class="headerlink" title="避免嵌套过深"></a>避免嵌套过深</h3><p>可以使用 <code>Promise</code> 解决深层嵌套问题：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不推荐</span></span><br><span class="line">async1(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// TODO 1</span></span><br><span class="line">  async2(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// TODO 2</span></span><br><span class="line">    async3(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      <span class="comment">// TODO 3</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 推荐</span></span><br><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">      async1(resolve);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// TODO 1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">      async2(resolve);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// TODO 2</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve</span>) </span>&#123;</span><br><span class="line">      async3(resolve);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// TODO 3</span></span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<h3 id="禁止事项"><a href="#禁止事项" class="headerlink" title="禁止事项"></a>禁止事项</h3><ul>
<li>禁止使用未定义的变量</li>
<li>禁止使用 <code>eval</code>，非用不可时可以使用 <code>Function</code> 构造器替代。</li>
<li>禁止使用 <code>with</code> 语句。</li>
<li>禁止在块作用域中使用函数声明语句。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="comment">// 禁止</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// 允许</span></span><br><span class="line">  <span class="keyword">var</span> func2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>禁止使用 8 进制词法</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// true</span></span><br><span class="line"><span class="keyword">if</span> (<span class="number">010</span> === <span class="number">8</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>禁止使用 <code>arguments</code> 映射</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="function"><span class="keyword">function</span>(<span class="params">a</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">arguments</span>[<span class="number">0</span>]++;</span><br><span class="line">  <span class="comment">// 此处 a 为 2</span></span><br><span class="line">&#125;(<span class="number">1</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>禁止使用重名参数</li>
<li>禁止使用保留字做变量名如 <code>interface</code> 等</li>
</ul>
<hr>
<h2 id="文案风格指南"><a href="#文案风格指南" class="headerlink" title="文案风格指南"></a>文案风格指南</h2><p>这是文书表述上的一些文字格式规范，目的在于增强文字的可读性和保持对外形象的一致性，适用范围包括但不限于软件界面、帮助文档等严肃内容平台，博客和微博等网络宣传媒体平台的用词风格可较轻松活泼些。本指南会不断增补修订。</p>
<h3 id="标点符号"><a href="#标点符号" class="headerlink" title="标点符号"></a>标点符号</h3><p>中文文书原则上请使用全角标点符号，英文文书请使用半角标点符号。中英夹杂原则上请使用全角标点符号。下面有另行规定者例外。</p>
<ul>
<li>括号的使用：中文文书中，括号中包括数字时采用半角括号，并在括号外留一个空格（连续两个标点符号之间不留空格）。例如：「全部联系人 (12)」。</li>
<li>英文文书逗号和句号后请留一个半角空格；中英夹杂文书中英文 (包括数字) 与汉字之间留一个半角空格。<ul>
<li>正确：「这是 1 只 HTC 手机」错误：「这是1只HTC手机」</li>
<li>正确：「2011 年 8 月 14 日」错误：「2011年8月14日」</li>
</ul>
</li>
<li>百分号写法：56.8% 是对的，56.8 % 是错的。百分号和它前面的数字之间不留空格。</li>
<li>段落之间使用 &lt;p&gt; 标签分隔 (一般来说实施效果是，段落间的视觉空隙为一倍 line-height)。段首不要空格。</li>
<li>不要使用「。。。」代替「……」 ，也不要使用三个英文句点「.」代替。</li>
<li>引号一律使用「」，而不是 “”。</li>
<li>严禁出现「！！」。尽量避免使用「！」。请先冷静下来再坐电脑前敲键盘。</li>
</ul>
<h3 id="遣词造句"><a href="#遣词造句" class="headerlink" title="遣词造句"></a>遣词造句</h3><ul>
<li>对用户称呼「你」，不再使用「您」。</li>
<li>能用中文就尽量避免英文罗马字。</li>
<li>名词：一些特写的名词可以直接使用原文而不必强译为中文。例如：HTTP、TCP。</li>
<li>用主动语态，不要用被动语态。一般情况下，主动语态比被动语态更有力。</li>
<li>使用具体、明确、展示细节的词汇，能激发想象，使读者自己代入情境。「把硬币放进口袋里，他咧开嘴笑了」，远远强过「他满意地拿走了辛苦挣来的奖赏」。</li>
<li>减少形容词的使用，少用 「的」，避免使用「哈，哈哈」、「呵，呵呵」等。</li>
<li>尽量使用常用词汇，不要用网络新词、科学术语和行话，该解释的要解释清楚。</li>
<li>记住，不要让用户来猜你在写什么。</li>
<li>记住，如果你写了一条文案觉得非常聪明非常好笑，很可能需要停下来想一下用户是否能理解了。（本条感谢 37signals 的文案建议）</li>
<li>「的」「地」「得」要用对。是的，小学都不要求这个了，但是要用对。（<a href="https://www.zhihu.com/question/23579160" target="_blank" rel="noopener">「的、地、得」的用法有何区别？- 知乎</a>）</li>
<li>卖萌和幽默建议：<ul>
<li>以下情况下幽默卖萌需要非常谨慎：报错信息，涉及支付、安全和隐私的信息；</li>
<li>以下情况下推荐卖萌或幽默文案：用户引导、新功能介绍。</li>
</ul>
</li>
</ul>
<h3 id="用字规范"><a href="#用字规范" class="headerlink" title="用字规范"></a>用字规范</h3><ul>
<li>根据软件发布流程的一般写法，所有用户可见的版本有：Beta、Release Candidate，未来可能对开发者可见的版本：Alpha。统一为首字母大写。两侧不出现中文或英文引号，也不出现括号。</li>
<li>用 root（小写字母）直接表达 root，不用引号。</li>
<li>「USB 调试」开关</li>
<li>账号（错误：帐号，账户，帐户）</li>
<li>登录账号（错误：登陆）</li>
<li>硬盘空间（不建议使用：磁盘）</li>
</ul>
<h3 id="开源软件文案要求"><a href="#开源软件文案要求" class="headerlink" title="开源软件文案要求"></a>开源软件文案<strong>要求</strong></h3><p>开源、内部开源文档，需要回答如这几个问题：</p>
<ul>
<li>是什么？能做什么？</li>
<li>为谁服务？</li>
<li>如何使用？</li>
<li>如何为它贡献代码 / 内容？<a href="https://github.com/blog/1184-contributing-guidelines" target="_blank" rel="noopener">CONTRIBUTING.md</a></li>
<li>是否有设计 / 架构介绍</li>
</ul>
<h3 id="版权"><a href="#版权" class="headerlink" title="版权"></a>版权</h3><p>CopyRight: 本规范引用自 <a href="https://docs.google.com/document/d/1R8lMCPf6zCD5KEA8ekZ5knK77iw9J-vJ6vEopPemqZM/edit#" target="_blank" rel="noopener">豌豆荚文案风格指</a>，略作修改。</p>
</div><div class="post-copyright"><blockquote><p>原文作者: Burgess</p><p>原文链接: <a href="https://qiyaozu.github.io/2020/03/03/codeStandard/">https://qiyaozu.github.io/2020/03/03/codeStandard/</a></p><p>版权声明: 转载请注明出处(必须保留作者署名及链接)</p></blockquote></div><div class="tags"></div><div class="post-share"><div class="social-share"><span>分享到:</span></div></div><div class="post-nav"><a href="/2020/03/03/docker搭建web服务/" class="pre">docker 搭建web服务</a><a href="/2020/03/03/electro/" class="next"></a></div><div id="comments"></div></div></div></div><div class="layout-r hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/03/04/win_mysql/">windows下mysql安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/arachni/">arachni对网站进行安全检查</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/js/">js相关</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/crontab/">crontab 定时任务的编写</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/mysql_for_mac/">Mysql for mac 配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/webpack/">webpack</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/mongod/">mongodb 安装与使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/pm2/">pm2</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/eslint/">eslint 配置相关</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/03/03/crackWifi/">破解wifi</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |  <a href="/atom.xml">订阅本站</a> |  <a href="/about/">联系博主</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次，本站总访客数:<i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>人</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Burgess.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.3"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.3" async></script><link rel="stylesheet" type="text/css" href="/share/css/share.css"><script type="text/javascript" src="/share/js/social-share.js" charset="utf-8"></script><script type="text/javascript" src="/share/js/qrcode.js" charset="utf-8"></script></body></html>